{"is_source_file": true, "format": "Python", "description": "This is a FastAPI route module for procurement operations, including listing and creating suppliers and purchase orders, retrieving specific orders, and listing order lines. It defines API endpoints with associated dependencies, models, and repositories.", "external_files": ["src/core/deps.py", "src.repositories.procurement.py", "src.schemas.procurement.py"], "external_methods": ["get_tenant_session", "require_roles", "SupplierRepository.list_suppliers", "SupplierRepository.create_supplier", "PurchaseOrderRepository.list_purchase_orders", "PurchaseOrderRepository.create_purchase_order", "PurchaseOrderRepository.get_purchase_order", "PurchaseOrderRepository.list_purchase_order_lines"], "published": [], "classes": [], "methods": [{"name": "List[SupplierRead] list_suppliers( session: AsyncSession = Depends(get_tenant_session), search: Optional[str] = Query(None, description=\"Filter by code or name (substring)\"), limit: int = Query(100, ge=1, le=1000), offset: int = Query(0, ge=0), )", "description": "Handles GET requests to list suppliers with optional search, limit, and offset parameters.", "scope": "", "scopeKind": ""}, {"name": "SupplierRead create_supplier( payload: SupplierCreate, session: AsyncSession = Depends(get_tenant_session), )", "description": "Handles POST requests to create a new supplier.", "scope": "", "scopeKind": ""}, {"name": "List[PurchaseOrderRead] list_purchase_orders( session: AsyncSession = Depends(get_tenant_session), supplier_id: Optional[UUID] = Query(None, description=\"Filter by supplier id\"), status: Optional[str] = Query(None, description=\"Filter by status\"), limit: int = Query(100, ge=1, le=1000), offset: int = Query(0, ge=0), )", "description": "Handles GET requests to list purchase orders with optional filters.", "scope": "", "scopeKind": ""}, {"name": "PurchaseOrderRead create_purchase_order( payload: PurchaseOrderCreate, session: AsyncSession = Depends(get_tenant_session), )", "description": "Handles POST requests to create a new purchase order.", "scope": "", "scopeKind": ""}, {"name": "PurchaseOrderRead get_purchase_order( po_id: UUID = Path(..., description=\"Purchase order id\"), session: AsyncSession = Depends(get_tenant_session), )", "description": "Handles GET requests to retrieve a specific purchase order by ID.", "scope": "", "scopeKind": ""}, {"name": "List[PurchaseOrderLineRead] list_purchase_order_lines( po_id: UUID = Path(..., description=\"Purchase order id\"), session: AsyncSession = Depends(get_tenant_session), )", "description": "Handles GET requests to list lines of a specific purchase order.", "scope": "", "scopeKind": ""}], "calls": ["SupplierRepository(session).list_suppliers", "SupplierRepository(session).create_supplier", "PurchaseOrderRepository(session).list_purchase_orders", "PurchaseOrderRepository(session).create_purchase_order", "PurchaseOrderRepository(session).get_purchase_order", "PurchaseOrderRepository(session).list_purchase_order_lines"], "search-terms": ["FastAPI procurement routes", "purchase order endpoints", "supplier API", "async SQLAlchemy", "Python FastAPI procurement"], "state": 2, "file_id": 44, "knowledge_revision": 107, "git_revision": "", "ctags": [{"_type": "tag", "name": "create_purchase_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def create_purchase_order($/", "language": "Python", "typeref": "typename:PurchaseOrderRead", "kind": "function", "signature": "( payload: PurchaseOrderCreate, session: AsyncSession = Depends(get_tenant_session), )"}, {"_type": "tag", "name": "create_supplier", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def create_supplier($/", "language": "Python", "typeref": "typename:SupplierRead", "kind": "function", "signature": "( payload: SupplierCreate, session: AsyncSession = Depends(get_tenant_session), )"}, {"_type": "tag", "name": "get_purchase_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def get_purchase_order($/", "language": "Python", "typeref": "typename:PurchaseOrderRead", "kind": "function", "signature": "( po_id: UUID = Path(..., description=\"Purchase order id\"), session: AsyncSession = Depends(get_tenant_session), )"}, {"_type": "tag", "name": "list_purchase_order_lines", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def list_purchase_order_lines($/", "language": "Python", "typeref": "typename:List[PurchaseOrderLineRead]", "kind": "function", "signature": "( po_id: UUID = Path(..., description=\"Purchase order id\"), session: AsyncSession = Depends(get_tenant_session), )"}, {"_type": "tag", "name": "list_purchase_orders", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def list_purchase_orders($/", "language": "Python", "typeref": "typename:List[PurchaseOrderRead]", "kind": "function", "signature": "( session: AsyncSession = Depends(get_tenant_session), supplier_id: Optional[UUID] = Query(None, description=\"Filter by supplier id\"), status: Optional[str] = Query(None, description=\"Filter by status\"), limit: int = Query(100, ge=1, le=1000), offset: int = Query(0, ge=0), )"}, {"_type": "tag", "name": "list_suppliers", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^async def list_suppliers($/", "language": "Python", "typeref": "typename:List[SupplierRead]", "kind": "function", "signature": "( session: AsyncSession = Depends(get_tenant_session), search: Optional[str] = Query(None, description=\"Filter by code or name (substring)\"), limit: int = Query(100, ge=1, le=1000), offset: int = Query(0, ge=0), )"}, {"_type": "tag", "name": "router", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/api/routes/procurement.py", "pattern": "/^router = APIRouter(prefix=\"\\/procurement\", tags=[\"Procurement\"])$/", "language": "Python", "kind": "variable"}], "hash": "ee32663ead2ac43d11cb54c0c9e785f5", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/api/routes/procurement.py", "fields": [{"name": "router = APIRouter(prefix=\"\\/procurement\", tags=[\"Procurement\"])", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"107": ""}]}