{"is_source_file": true, "format": "Python", "description": "This file defines repository classes for handling database operations related to 'Item' and 'BOM' (Bill of Materials) entities in an manufacturing API. It includes methods for listing, creating, and retrieving items and BOMs using SQLAlchemy asynchronous sessions.", "external_files": ["src/db/models/master_data", "src.schemas.master_data", ".base"], "external_methods": ["super().__init__", "self.scalars", "self.add", "self.commit", "self.scalar_one_or_none"], "published": ["ItemRepository", "BomRepository"], "classes": [{"name": "ItemRepository", "description": "Repository class for managing Item entities, providing methods to list and create items."}, {"name": "BomRepository", "description": "Repository class for managing BOM (Bill of Materials) entities, providing methods to list and retrieve BOMs and BOM lines."}], "methods": [{"name": "List[Item] list_items( self, *, search: Optional[str], status: Optional[str], limit: int, offset: int )", "description": "Retrieves a list of Item objects from the database, optionally filtered by search term and status, with pagination support.", "scope": "ItemRepository", "scopeKind": "class"}, {"name": "Item create_item(self, payload: ItemCreate)", "description": "Creates a new Item record in the database based on the provided ItemCreate schema and returns the created Item.", "scope": "ItemRepository", "scopeKind": "class"}, {"name": "List[Bom] list_boms( self, *, item_id: Optional[UUID], is_active: Optional[bool], limit: int, offset: int )", "description": "Retrieves a list of BOMs, optionally filtered by item_id and activation status, with pagination support.", "scope": "BomRepository", "scopeKind": "class"}, {"name": "Optional[Bom] get_bom(self, bom_id: UUID)", "description": "Retrieves a single BOM by its UUID.", "scope": "BomRepository", "scopeKind": "class"}, {"name": "List[BomLine] list_bom_lines(self, *, bom_id: UUID)", "description": "Lists all BOM lines associated with a specific BOM identified by its UUID.", "scope": "BomRepository", "scopeKind": "class"}, {"name": "None __init__(self, session: AsyncSession)", "scope": "ItemRepository", "scopeKind": "class", "description": "unavailable"}], "calls": ["super().__init__(session)", "self.scalars(stmt)", "self.add(row)", "self.commit()", "self.scalar_one_or_none(stmt)"], "search-terms": ["ItemRepository", "BomRepository", "async SQLAlchemy repository", "Item creation", "BOM listing", "Manufacturing database", "master data repositories"], "state": 2, "file_id": 53, "knowledge_revision": 126, "git_revision": "", "ctags": [{"_type": "tag", "name": "BomRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^class BomRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "ItemRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^class ItemRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "ItemRepository", "scopeKind": "class"}, {"_type": "tag", "name": "create_item", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    async def create_item(self, payload: ItemCreate) -> Item:$/", "language": "Python", "typeref": "typename:Item", "kind": "member", "signature": "(self, payload: ItemCreate)", "scope": "ItemRepository", "scopeKind": "class"}, {"_type": "tag", "name": "get_bom", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    async def get_bom(self, bom_id: UUID) -> Optional[Bom]:$/", "language": "Python", "typeref": "typename:Optional[Bom]", "kind": "member", "signature": "(self, bom_id: UUID)", "scope": "BomRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_bom_lines", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    async def list_bom_lines(self, *, bom_id: UUID) -> List[BomLine]:$/", "language": "Python", "typeref": "typename:List[BomLine]", "kind": "member", "signature": "(self, *, bom_id: UUID)", "scope": "BomRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_boms", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    async def list_boms($/", "language": "Python", "typeref": "typename:List[Bom]", "kind": "member", "signature": "( self, *, item_id: Optional[UUID], is_active: Optional[bool], limit: int, offset: int )", "scope": "BomRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_items", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/master_data.py", "pattern": "/^    async def list_items($/", "language": "Python", "typeref": "typename:List[Item]", "kind": "member", "signature": "( self, *, search: Optional[str], status: Optional[str], limit: int, offset: int )", "scope": "ItemRepository", "scopeKind": "class"}], "hash": "9b80ab2fd25036101a1a53c002b05c65", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/repositories/master_data.py", "revision_history": [{"126": ""}]}