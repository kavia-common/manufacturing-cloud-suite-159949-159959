{"is_source_file": true, "format": "Python", "description": "This file defines repository classes for managing procurement-related data (suppliers and purchase orders) using SQLAlchemy ORM, providing methods for listing, creating, and retrieving procurement records.", "external_files": ["src/db/models/procurement", "src.schemas.procurement", ".base"], "external_methods": ["select", "or_", "select", "scalar_one_or_none", "scalars", "add", "commit"], "published": ["SupplierRepository", "PurchaseOrderRepository"], "classes": [{"name": "SupplierRepository", "description": "Repository for suppliers, providing methods to list and create suppliers in the database."}, {"name": "PurchaseOrderRepository", "description": "Repository for purchase orders, including methods to list, retrieve, and create purchase orders and their lines."}], "methods": [{"name": "List[Supplier] list_suppliers( self, *, search: Optional[str], limit: int, offset: int )", "description": "Returns a list of suppliers with optional search, offset, and limit parameters.", "scope": "SupplierRepository", "scopeKind": "class"}, {"name": "Supplier create_supplier(self, payload: SupplierCreate)", "description": "Creates a new supplier record in the database.", "scope": "SupplierRepository", "scopeKind": "class"}, {"name": "List[PurchaseOrder] list_purchase_orders( self, *, supplier_id: Optional[UUID], status: Optional[str], limit: int, offset: int )", "description": "Retrieves a list of purchase orders, optionally filtered by supplier ID and status, with pagination support.", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"name": "Optional[PurchaseOrder] get_purchase_order(self, po_id: UUID)", "description": "Retrieves a specific purchase order by its UUID.", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"name": "List[PurchaseOrderLine] list_purchase_order_lines(self, po_id: UUID)", "description": "Lists all lines for a given purchase order ID.", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"name": "PurchaseOrder create_purchase_order(self, payload: PurchaseOrderCreate)", "description": "Creates a new purchase order record in the database.", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"name": "None __init__(self, session: AsyncSession)", "scope": "SupplierRepository", "scopeKind": "class", "description": "unavailable"}], "calls": ["self.scalars", "self.add", "self.commit", "self.scalar_one_or_none"], "search-terms": ["procurement repository", "purchase order database", "supplier management", "async SQLAlchemy"], "state": 2, "file_id": 54, "knowledge_revision": 128, "git_revision": "", "ctags": [{"_type": "tag", "name": "PurchaseOrderRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^class PurchaseOrderRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "SupplierRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^class SupplierRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "SupplierRepository", "scopeKind": "class"}, {"_type": "tag", "name": "create_purchase_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def create_purchase_order(self, payload: PurchaseOrderCreate) -> PurchaseOrder:$/", "language": "Python", "typeref": "typename:PurchaseOrder", "kind": "member", "signature": "(self, payload: PurchaseOrderCreate)", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "create_supplier", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def create_supplier(self, payload: SupplierCreate) -> Supplier:$/", "language": "Python", "typeref": "typename:Supplier", "kind": "member", "signature": "(self, payload: SupplierCreate)", "scope": "SupplierRepository", "scopeKind": "class"}, {"_type": "tag", "name": "get_purchase_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def get_purchase_order(self, po_id: UUID) -> Optional[PurchaseOrder]:$/", "language": "Python", "typeref": "typename:Optional[PurchaseOrder]", "kind": "member", "signature": "(self, po_id: UUID)", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_purchase_order_lines", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def list_purchase_order_lines(self, po_id: UUID) -> List[PurchaseOrderLine]:$/", "language": "Python", "typeref": "typename:List[PurchaseOrderLine]", "kind": "member", "signature": "(self, po_id: UUID)", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_purchase_orders", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def list_purchase_orders($/", "language": "Python", "typeref": "typename:List[PurchaseOrder]", "kind": "member", "signature": "( self, *, supplier_id: Optional[UUID], status: Optional[str], limit: int, offset: int )", "scope": "PurchaseOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_suppliers", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/procurement.py", "pattern": "/^    async def list_suppliers($/", "language": "Python", "typeref": "typename:List[Supplier]", "kind": "member", "signature": "( self, *, search: Optional[str], limit: int, offset: int )", "scope": "SupplierRepository", "scopeKind": "class"}], "hash": "a713c81505d95974149cd5d0f0982853", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/repositories/procurement.py", "revision_history": [{"128": ""}]}