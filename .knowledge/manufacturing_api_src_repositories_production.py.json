{"is_source_file": true, "format": "Python", "description": "This file contains repository classes for managing work orders and work order operations in an asynchronous database context, using SQLAlchemy ORM. It includes methods for listing, retrieving, and creating work orders and their operations.", "external_files": ["src/db/models/production", "src.schemas.production", ".base"], "external_methods": ["select", "or_", "select().where()", "select().order_by()", "select().offset()", "select().limit()", "session.scalars()", "session.scalar_one_or_none()", "session.add()", "session.commit()"], "published": ["WorkOrderRepository", "WorkOrderOperationRepository"], "classes": [{"name": "WorkOrderRepository", "description": "Repository class for handling work orders, providing methods for listing, retrieving, and creating work orders."}, {"name": "WorkOrderOperationRepository", "description": "Repository class for handling work order operations, providing methods for listing operations related to work orders."}], "methods": [{"name": "List[WorkOrder] list_work_orders( self, *, status: Optional[str], order_no: Optional[str], limit: int, offset: int )", "description": "Lists work orders with optional filtering by status and order number, supports pagination.", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"name": "Optional[WorkOrder] get_work_order(self, wo_id: UUID)", "description": "Retrieves a specific work order by its UUID.", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"name": "WorkOrder create_work_order(self, payload: WorkOrderCreate)", "description": "Creates a new work order record based on the provided payload.", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"name": "List[WorkOrderOperation] list_operations( self, *, work_order_id: Optional[UUID], status: Optional[str], limit: int, offset: int )", "description": "Lists work order operations, filtered by work order ID and status, supports pagination.", "scope": "WorkOrderOperationRepository", "scopeKind": "class"}, {"name": "None __init__(self, session: AsyncSession)", "scope": "WorkOrderRepository", "scopeKind": "class", "description": "unavailable"}], "calls": ["select(WorkOrder)", "select(WorkOrderOperation)", "WorkOrder.status == status", "WorkOrder.order_no.ilike(like)", "WorkOrderOperation.work_order_id == work_order_id", "WorkOrderOperation.status == status", "WorkOrder.created_at.desc()", "WorkOrderOperation.planned_start.asc()", "self.scalars()", "self.scalar_one_or_none()", "self.add()", "self.commit()"], "search-terms": ["WorkOrderRepository", "WorkOrderOperationRepository", "async SQLAlchemy", "production work orders", "production operations", "work order management"], "state": 2, "file_id": 55, "knowledge_revision": 130, "git_revision": "", "ctags": [{"_type": "tag", "name": "WorkOrderOperationRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^class WorkOrderOperationRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "WorkOrderRepository", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^class WorkOrderRepository(BaseRepository):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "__init__", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^    def __init__(self, session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "member", "signature": "(self, session: AsyncSession)", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "create_work_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^    async def create_work_order(self, payload: WorkOrderCreate) -> WorkOrder:$/", "language": "Python", "typeref": "typename:WorkOrder", "kind": "member", "signature": "(self, payload: WorkOrderCreate)", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "get_work_order", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^    async def get_work_order(self, wo_id: UUID) -> Optional[WorkOrder]:$/", "language": "Python", "typeref": "typename:Optional[WorkOrder]", "kind": "member", "signature": "(self, wo_id: UUID)", "scope": "WorkOrderRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_operations", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^    async def list_operations($/", "language": "Python", "typeref": "typename:List[WorkOrderOperation]", "kind": "member", "signature": "( self, *, work_order_id: Optional[UUID], status: Optional[str], limit: int, offset: int )", "scope": "WorkOrderOperationRepository", "scopeKind": "class"}, {"_type": "tag", "name": "list_work_orders", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/repositories/production.py", "pattern": "/^    async def list_work_orders($/", "language": "Python", "typeref": "typename:List[WorkOrder]", "kind": "member", "signature": "( self, *, status: Optional[str], order_no: Optional[str], limit: int, offset: int )", "scope": "WorkOrderRepository", "scopeKind": "class"}], "hash": "42759483c50b65115c053c43282e2bd6", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/repositories/production.py", "revision_history": [{"130": ""}]}