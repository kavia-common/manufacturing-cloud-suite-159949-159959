{"is_source_file": true, "format": "Python", "description": "This Python script provides database seeding utilities for a manufacturing-related project. It includes functions to seed essential reference data such as tenants, permissions, roles, units of measure, items, work centers, routings, and BOMs. The script is intended to be run as a standalone program to initialize or update minimal fabric data into the database.", "external_files": ["src/db/session.py", "src/db/models/master_data.py"], "external_methods": ["get_async_session", "tenant_context"], "published": ["seed_all"], "classes": [], "methods": [{"name": "None seed_all()", "description": "Asynchronously seeds the database with minimal reference data, including tenant creation, security setup, units of measure, items, work center, routing, and BOM.", "scope": "", "scopeKind": ""}, {"name": "UUID _ensure_base_tenant(session: AsyncSession, name: str, slug: str)", "description": "Ensures a tenant with specified name and slug exists; creates it if absent.", "scope": "", "scopeKind": ""}, {"name": "None _seed_security(session: AsyncSession)", "description": "Seeds default permissions, an admin role, and associates all permissions with that role.", "scope": "", "scopeKind": ""}, {"name": "dict[str,UUID] _seed_uoms(session: AsyncSession)", "description": "Seeds units of measure and returns a mapping of their codes to UUIDs.", "scope": "", "scopeKind": ""}, {"name": "dict[str,UUID] _seed_items(session: AsyncSession, uoms: dict[str, UUID])", "description": "Seeds sample items (raw material and finished good) and returns a mapping of SKU to UUID.", "scope": "", "scopeKind": ""}, {"name": "UUID _seed_work_center(session: AsyncSession)", "description": "Seeds a work center and associated asset, returns the work center UUID.", "scope": "", "scopeKind": ""}, {"name": "None _seed_routing_and_bom( session: AsyncSession, items: dict[str, UUID], uoms: dict[str, UUID], work_center_id: UUID, )", "description": "Creates routing, routing operation, and BOM for a sample finished good item, linking raw materials and work centers.", "scope": "", "scopeKind": ""}, {"name": "None main()", "description": "Runs the asynchronous seed_all function using asyncio.run() to initialize the database.", "scope": "", "scopeKind": ""}], "calls": ["get_async_session", "tenant_context", "session.execute", "session.commit"], "search-terms": ["database seeding", "manufacturing", "initial data", "seed.py", "setup reference data", "routing and BOM", "minimal seed data"], "state": 2, "file_id": 23, "knowledge_revision": 52, "git_revision": "", "ctags": [{"_type": "tag", "name": "_ensure_base_tenant", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _ensure_base_tenant(session: AsyncSession, name: str, slug: str) -> UUID:$/", "language": "Python", "typeref": "typename:UUID", "kind": "function", "signature": "(session: AsyncSession, name: str, slug: str)"}, {"_type": "tag", "name": "_seed_items", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _seed_items(session: AsyncSession, uoms: dict[str, UUID]) -> dict[str, UUID]:$/", "language": "Python", "typeref": "typename:dict[str,UUID]", "kind": "function", "signature": "(session: AsyncSession, uoms: dict[str, UUID])"}, {"_type": "tag", "name": "_seed_routing_and_bom", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _seed_routing_and_bom($/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "( session: AsyncSession, items: dict[str, UUID], uoms: dict[str, UUID], work_center_id: UUID, )"}, {"_type": "tag", "name": "_seed_security", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _seed_security(session: AsyncSession) -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "(session: AsyncSession)"}, {"_type": "tag", "name": "_seed_uoms", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _seed_uoms(session: AsyncSession) -> dict[str, UUID]:$/", "language": "Python", "typeref": "typename:dict[str,UUID]", "kind": "function", "signature": "(session: AsyncSession)"}, {"_type": "tag", "name": "_seed_work_center", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def _seed_work_center(session: AsyncSession) -> UUID:$/", "language": "Python", "typeref": "typename:UUID", "kind": "function", "signature": "(session: AsyncSession)"}, {"_type": "tag", "name": "main", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^def main() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "seed_all", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/db/seed.py", "pattern": "/^async def seed_all() -> None:$/", "language": "Python", "typeref": "typename:None", "kind": "function", "signature": "()"}], "hash": "ff4b18cd06f07031aa6ab798fd2b9beb", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/db/seed.py", "revision_history": [{"52": ""}]}