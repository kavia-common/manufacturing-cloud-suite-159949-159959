{"is_source_file": true, "format": "Python", "description": "This file provides dependency functions for managing tenant context and database sessions in a FastAPI application, including extracting tenant IDs from headers and configuring async database sessions with tenant-specific security context.", "external_files": ["src/db.session"], "external_methods": ["get_async_session", "tenant_context"], "published": ["get_tenant_id", "get_tenant_session", "get_session_no_tenant"], "classes": [], "methods": [{"name": "UUID get_tenant_id(x_tenant_id: str | None = Header(default=None, alias=\"X-Tenant-ID\"))", "description": "Extracts and validates the tenant ID from the X-Tenant-ID header, returning it as a UUID, or raises an HTTP 400 error if missing or invalid.", "scope": "", "scopeKind": ""}, {"name": "AsyncGenerator[AsyncSession,None] get_tenant_session( tenant_id: UUID = Depends(get_tenant_id), session_dep=Depends(get_async_session), )", "description": "Provides an async generator yielding database sessions configured with tenant-specific security context using tenant_id.", "scope": "", "scopeKind": ""}, {"name": "AsyncGenerator[AsyncSession,None] get_session_no_tenant( session_dep=Depends(get_async_session), )", "description": "Provides an async generator yielding database sessions without tenant context, useful for system operations or manual tenant context management.", "scope": "", "scopeKind": ""}], "calls": ["Header", "Depends", "UUID", "HTTPException", "status.HTTP_400_BAD_REQUEST", "UUID(x_tenant_id)", "get_async_session", "tenant_context"], "search-terms": ["get_tenant_id", "tenant_context", "AsyncSession", "X-Tenant-ID", "get_async_session", "tenant_id"], "state": 2, "file_id": 26, "knowledge_revision": 59, "git_revision": "", "ctags": [{"_type": "tag", "name": "get_session_no_tenant", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/core/deps.py", "pattern": "/^async def get_session_no_tenant($/", "language": "Python", "typeref": "typename:AsyncGenerator[AsyncSession,None]", "kind": "function", "signature": "( session_dep=Depends(get_async_session), )"}, {"_type": "tag", "name": "get_tenant_id", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/core/deps.py", "pattern": "/^async def get_tenant_id(x_tenant_id: str | None = Header(default=None, alias=\"X-Tenant-ID\")) -> /", "language": "Python", "typeref": "typename:UUID", "kind": "function", "signature": "(x_tenant_id: str | None = Header(default=None, alias=\"X-Tenant-ID\"))"}, {"_type": "tag", "name": "get_tenant_session", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/core/deps.py", "pattern": "/^async def get_tenant_session($/", "language": "Python", "typeref": "typename:AsyncGenerator[AsyncSession,None]", "kind": "function", "signature": "( tenant_id: UUID = Depends(get_tenant_id), session_dep=Depends(get_async_session), )"}, {"_type": "tag", "name": "logger", "path": "/home/kavia/workspace/code-generation/manufacturing-cloud-suite-159949-159959/manufacturing_api/src/core/deps.py", "pattern": "/^logger = logging.getLogger(__name__)$/", "language": "Python", "kind": "variable"}], "hash": "87d98e32b8c7107bae72a2428a586757", "format-version": 4, "code-base-name": "manufacturing_api", "filename": "manufacturing_api/src/core/deps.py", "fields": [{"name": "logger = logging.getLogger(__name__)", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"59": ""}]}